ğŸ“Š MOLNDATABAS (Azure) â€“ STRUKTUR & INNEHÃ…LL
====================================

ğŸ“ Tabell: tracking_event
  â€¢ id (uuid)
  â€¢ timestamp (timestamp with time zone)
  â€¢ metadata (jsonb)
  â€¢ synced_at (timestamp with time zone)
  â€¢ visitor_id (text)
  â€¢ event_type (text)
  ğŸ”‘ [p] tracking_event_pkey: PRIMARY KEY (id)

ğŸ“ Tabell: slot_cache
  â€¢ created_at (timestamp without time zone)
  â€¢ slot_day (date)
  â€¢ slots (jsonb)
  â€¢ id (uuid)
  â€¢ meeting_length (integer)
  â€¢ booking_email (text)
  â€¢ meeting_type (text)
  â€¢ slot_part (text)
  ğŸ”‘ [p] slot_cache_pkey: PRIMARY KEY (id)

ğŸ“ Tabell: calendar_origin_cache
  â€¢ created_at (timestamp without time zone)
  â€¢ timestamp (timestamp with time zone)
  â€¢ event_date (date)
  â€¢ id (integer)
  â€¢ end_time (timestamp without time zone)
  â€¢ address (text)
  â€¢ source (text)
  ğŸ”‘ [c] calendar_origin_cache_source_check: CHECK ((source = ANY (ARRAY['Apple Calendar'::text, 'Microsoft 365'::text])))
  ğŸ”‘ [p] calendar_origin_cache_pkey: PRIMARY KEY (id)

ğŸ“ Tabell: available_slots_cache
  â€¢ id (uuid)
  â€¢ travel_time_min (integer)
  â€¢ generated_at (timestamp without time zone)
  â€¢ expires_at (timestamp without time zone)
  â€¢ meeting_length (integer)
  â€¢ slot_day (date)
  â€¢ slot_score (integer)
  â€¢ meeting_type (text)
  â€¢ slot_part (text)
  â€¢ slot_iso (text)
  ğŸ”‘ [p] available_slots_cache_pkey: PRIMARY KEY (id)

ğŸ“ Tabell: pending_verification
  â€¢ id (uuid)
  â€¢ metadata (jsonb)
  â€¢ created_at (timestamp without time zone)
  â€¢ used_at (timestamp without time zone)
  â€¢ email (text)
  â€¢ token (text)
  ğŸ”‘ [p] pending_verification_pkey: PRIMARY KEY (id)
  ğŸ”‘ [u] pending_verification_token_key: UNIQUE (token)

ğŸ“ Tabell: travel_time_cache
  â€¢ travel_minutes (integer)
  â€¢ updated_at (timestamp with time zone)
  â€¢ is_fallback (boolean)
  â€¢ hour (integer)
  â€¢ created_at (timestamp with time zone)
  â€¢ to_address (text)
  â€¢ from_address (text)
  ğŸ”‘ [u] unique_travel_key: UNIQUE (from_address, to_address, hour)
  ğŸ§ª Topp 5 rader:
    - from_address=Taxgatan 4, 115 45 Stockholm, to_address=Maria Skolgata 79A, 118 53 Stockholm, hour=10, travel_minutes=33, created_at=2025-06-24 14:00:01.374226+00:00, updated_at=2025-06-24 14:00:01.374226+00:00, is_fallback=False
    - from_address=Taxgatan 4, 115 45 Stockholm, to_address=Maria Skolgata 79A, 118 53 Stockholm, hour=14, travel_minutes=32, created_at=2025-06-24 14:00:02.181381+00:00, updated_at=2025-06-24 14:00:02.181381+00:00, is_fallback=False

ğŸ“ Tabell: event_log
  â€¢ received_at (timestamp with time zone)
  â€¢ record_id (uuid)
  â€¢ timestamp (timestamp with time zone)
  â€¢ booking_id (uuid)
  â€¢ id (uuid)
  â€¢ payload (jsonb)
  â€¢ action (text)
  â€¢ event_type (text)
  â€¢ source (text)
  â€¢ table_name (text)
  ğŸ”‘ [p] event_log_pkey: PRIMARY KEY (id)

ğŸ“ Tabell: booking_settings
  â€¢ value (jsonb)
  â€¢ updated_at (timestamp with time zone)
  â€¢ key (text)
  â€¢ value_type (text)
  ğŸ”‘ [u] unique_key: UNIQUE (key)
  ğŸ§ª Topp 5 rader:
    - key=email_subject_templates, value={'zoom': 'ZoommÃ¶te: {{first_name}} | {{company}} & Daniel | Kinnekulle LedningsrÃ¥dgivning AB', 'teams': 'TeamsmÃ¶te: {{first_name}} | {{company}} & Daniel | Kinnekulle LedningsrÃ¥dgivning AB', 'atclient': 'MÃ¶te hos {{company}}: {{first_name}} | {{company}} & Daniel | Kinnekulle LedningsrÃ¥dgivning AB', 'atoffice': 'MÃ¶te hos KLR AB (Stockholm | SÃ¶dermalm): {{first_name}} | {{company}} & Daniel | Kinnekulle LedningsrÃ¥dgivning AB', 'facetime': 'FaceTime-mÃ¶te: {{first_name}} | {{company}} & Daniel | Kinnekulle LedningsrÃ¥dgivning AB'}, value_type=json, updated_at=2025-05-30 20:46:14.058171+00:00
    - key=default_language, value=sv, value_type=string, updated_at=2025-05-25 10:37:53.619684+00:00
    - key=default_meeting_length_atclient, value=[90, 180, 270, 360], value_type=array, updated_at=2025-04-23 12:48:49.778155+00:00
    - key=default_meeting_length_atoffice, value=[60, 90], value_type=array, updated_at=2025-04-23 12:48:49.778155+00:00
    - key=default_meeting_length_digital, value=[10, 20, 60], value_type=array, updated_at=2025-04-23 12:48:49.778155+00:00

ğŸ“ Tabell: translation
  â€¢ key (character varying)
  â€¢ sv (text)
  â€¢ en (text)
  ğŸ§ª Topp 5 rader:
    - key=error_invalid_phone, sv=Ogiltigt telefonnummer. Vi vet att det Ã¤r svÃ¥rt att komma ihÃ¥g sitt nummer., en=Invalid phone number. We know remembering your own number is hard.
    - key=error_invalid_name, sv=Namnet Ã¤r ogiltigt (minst 2 tecken, max 50). Smeknamn som "X" Ã¤r fÃ¶r Elon., en=Invalid name (min 2 characters, max 50). Nicknames like "X" are taken.
    - key=error_missing_fields, sv=Alla fÃ¤lt mÃ¥ste vara ifyllda. Vi Ã¤r petiga sÃ¥ du slipper bli det senare., en=All fields must be filled. Weâ€™re picky so you donâ€™t have to be later.
    - key=error_missing_meeting_link, sv=MÃ¶teslÃ¤nk krÃ¤vs. Om inte mÃ¶tet sker via brevduva., en=A meeting link is required. Unless the meeting is via carrier pigeon.
    - key=error_missing_recaptcha, sv=reCAPTCHA mÃ¥ste verifieras. Nej, det Ã¤r inte en kÃ¤nslomÃ¤ssig frÃ¥ga., en=reCAPTCHA verification required. And no, itâ€™s not a personality test.

ğŸ“ Tabell: bookings
  â€¢ start_time (timestamp with time zone)
  â€¢ end_time (timestamp with time zone)
  â€¢ id (uuid)
  â€¢ updated_at (timestamp with time zone)
  â€¢ metadata (jsonb)
  â€¢ created_at (timestamp with time zone)
  â€¢ contact_id (uuid)
  â€¢ meeting_type (text)
  â€¢ booking_email (text)
  ğŸ”‘ [p] bookings_pkey: PRIMARY KEY (id)
  ğŸ”‘ [f] fk_bookings_contact: FOREIGN KEY (contact_id) REFERENCES contact(id) ON DELETE SET NULL

ğŸ“ Tabell: pending_changes
  â€¢ booking_id (uuid)
  â€¢ processed (boolean)
  â€¢ created_at (timestamp with time zone)
  â€¢ payload (jsonb)
  â€¢ id (uuid)
  â€¢ record_id (uuid)
  â€¢ table_name (text)
  â€¢ operation (text)
  â€¢ change_type (text)
  â€¢ direction (text)
  ğŸ”‘ [p] pending_changes_pkey: PRIMARY KEY (id)
  ğŸ”‘ [f] fk_pending_changes_booking_id: FOREIGN KEY (booking_id) REFERENCES bookings(id) ON DELETE CASCADE

ğŸ“ Tabell: contact
  â€¢ updated_at (timestamp with time zone)
  â€¢ created_at (timestamp with time zone)
  â€¢ id (uuid)
  â€¢ metadata (jsonb)
  â€¢ booking_email (text)
  â€¢ email (text)
  â€¢ apple_uid (text)
  ğŸ”‘ [p] contact_pkey: PRIMARY KEY (id)

